"use strict";(self.webpackChunkqtrobot_documentation=self.webpackChunkqtrobot_documentation||[]).push([[1227,2234],{6375:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>d,toc:()=>u});var o=n(5893),r=n(1151),s=n(4866),i=n(5162),a=(n(2241),n(9656));const l={id:"intro_code",title:"Quick start with coding on QTrobot",sidebar_position:1,tags:["Getting Started","Code","Programming"],hide_table_of_contents:!1},c=void 0,d={id:"intro_code",title:"Quick start with coding on QTrobot",description:"This document guides you towards quick start coding on the QTrobot using programming languages. If you are looking for graphical programming, please take a look at Quick start with QTrobot studio.",source:"@site/docs/intro_code.mdx",sourceDirName:".",slug:"/intro_code",permalink:"/docs/intro_code",draft:!1,unlisted:!1,tags:[{label:"Getting Started",permalink:"/docs/tags/getting-started"},{label:"Code",permalink:"/docs/tags/code"},{label:"Programming",permalink:"/docs/tags/programming"}],version:"current",sidebarPosition:1,frontMatter:{id:"intro_code",title:"Quick start with coding on QTrobot",sidebar_position:1,tags:["Getting Started","Code","Programming"],hide_table_of_contents:!1},sidebar:"codding_sidebard"},h={},u=[{value:"1. Understanding QTrobot architecture",id:"1-understanding-qtrobot-architecture",level:2},{value:"2. Prepare your setup",id:"2-prepare-your-setup",level:2},{value:"Step 1. Turn on QTrobot",id:"step-1-turn-on-qtrobot",level:3},{value:"Step 2. Connect keyboard/mouse and monitor to QTPC",id:"step-2-connect-keyboardmouse-and-monitor-to-qtpc",level:3},{value:"Step 3. Wait for QTPC to boot",id:"step-3-wait-for-qtpc-to-boot",level:3},{value:"3. Connect QTrobot to a home network and Internet",id:"qt_to_internet",level:2},{value:"Step 1. Access QTRP via ssh",id:"step-1-access-qtrp-via-ssh",level:3},{value:"Step 2. Configure qt_wlan0_client service",id:"step-2-configure-qt_wlan0_client-service",level:3},{value:"Step 3. Test and make it permanent",id:"step-3-test-and-make-it-permanent",level:3},{value:"4. Optional ways of working with QTrobot",id:"4-optional-ways-of-working-with-qtrobot",level:2},{value:"Step 1. Setup your ROS environment",id:"step-1-setup-your-ros-environment",level:3},{value:"Step 2. Test your setup",id:"step-2-test-your-setup",level:3}];function p(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",sup:"sup",ul:"ul",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["This document guides you towards quick start ",(0,o.jsx)(t.strong,{children:"coding"})," on the QTrobot using programming languages. If you are looking for ",(0,o.jsx)(t.strong,{children:"graphical programming"}),", please take a look at ",(0,o.jsx)(t.a,{href:"intro_graphical",children:(0,o.jsx)(t.strong,{children:"Quick start with QTrobot studio"})}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"1-understanding-qtrobot-architecture",children:"1. Understanding QTrobot architecture"}),"\n",(0,o.jsxs)(t.p,{children:["QTrobot is a high-end research platform with powerful computers and state-of-the-art hardware such as 3D camera and far-field microphone array. It comes with two computers: ",(0,o.jsx)(t.em,{children:"i)"})," QTRP, a Raspberry Pi based computer to control the main hardware and ",(0,o.jsx)(t.em,{children:"ii)"})," QTPC, which can be an Intel\xae NUC i5/i7 PC or Nvidia Jetson AGX Orin, to provide more computational power and to accelerate software development cycle. Both computers run on Ubuntu/Debian Linux operating systems and leverage ",(0,o.jsx)(t.a,{href:"https://www.ros.org/",children:(0,o.jsx)(t.strong,{children:"ROS"})})," to offer easy-to-use yet very flexible software architecture. QTrobot's hardware is easily extendable via USB-C and USB adaptors, for example, to connect external monitor, keyboard and mouse. QTrobot also provides a rich set of ",(0,o.jsx)(t.a,{href:"api_ros",children:(0,o.jsx)(t.strong,{children:"APIs"})})," for several programing languages such as C++, Python and JavaScript."]}),"\n",(0,o.jsx)(t.p,{children:"As it is shown in the following diagram, QTrobot consists of two computers, one in the QTrobot head (QTRP) and the other in the body (QTPC), which are internally connected via ethernet cable. All of the QTrobot devices such as display, speakers, microphone and motors are connected to QTRP except the 3D Camera which is connected directly to QTPC. The Wi-Fi of the QTRP is used to create the QTrobot hotspot with the same SSID as the robot\u2019s serial number (e.g. QTRD000101)."}),"\n",(0,o.jsx)("center",{children:(0,o.jsx)("img",{width:"70%",src:"/img/architecture_v2.png",alt:"architecture"})}),"\n",(0,o.jsxs)(t.p,{children:["Both computers are configured to interact in one ROS environment. Upon starting the QTrobot, QTRP runs the roscore and initializes the ROS environment. It also turn on QTPC via wake-on-lan when the ROS environment is up (",(0,o.jsx)(t.em,{children:"check under Turn on QTrobot for AI@Edge version"}),"). You will also find two USB port at the back of the QTrobot. In QTrobot NUC version: one of them is attached to QTRP and the second one (USB-C) is connected to QTPC. This USB-C port can be used to connect keyboard,mouse and monitor via a USB-C extension hub to QTPC.\nIn QTrobot AI@Edge version: one of the USB is connected to QTRP and the other one to QTPC. To connect monitor you need to use Display Port on the back of the QTrobot."]}),"\n",(0,o.jsx)(t.admonition,{title:"Notice",type:"info",children:(0,o.jsx)(t.p,{children:"QTPC is already configured to work with roscore which is running on QTRP and you can access all QTrobot ROS services ands topics."})}),"\n",(0,o.jsx)(t.h2,{id:"2-prepare-your-setup",children:"2. Prepare your setup"}),"\n",(0,o.jsxs)(t.p,{children:["There are few ways of developing code for QTrobot. We ",(0,o.jsx)(t.em,{children:"strongly recommend"})," you to start developing directly on QTrobot's integrated QTPC. As it is shown in the following picture, you need to prepare:"]}),"\n",(0,o.jsxs)(t.p,{children:["\xa0",(0,o.jsx)(a.Z,{children:"keyboard"})," a keyboard,",(0,o.jsx)("br",{}),"\n\xa0",(0,o.jsx)(a.Z,{children:"mouse"})," a mouse,",(0,o.jsx)("br",{}),"\n\xa0",(0,o.jsx)(a.Z,{children:"desktop_windows"})," and a monitor with HDMI/Display Port cable."]}),"\n",(0,o.jsx)("center",{children:(0,o.jsx)("img",{src:"/img/robot_rd_setup.png",alt:"rdsetup"})}),"\n",(0,o.jsx)(t.h3,{id:"step-1-turn-on-qtrobot",children:"Step 1. Turn on QTrobot"}),"\n",(0,o.jsxs)(t.p,{children:["To power the QTrobot on, simply connect the QTrobot's power supply",(0,o.jsx)(t.sup,{children:(0,o.jsx)(t.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})}),".This triggers the power on process and your QTrobot becomes ready less than a minute. After powering on, you can see the QTrobot face is on and the motors are in their home position. If the QTrobot is already connected to the power supply simply\npush the power button to turn on the QTrobot."]}),"\n",(0,o.jsx)(t.admonition,{title:"QTrobot AI@Edge version",type:"warning",children:(0,o.jsxs)(t.p,{children:["To correctly ",(0,o.jsx)(t.strong,{children:"turn ON"})," QTrobot, just plug it in using its power supply. To ",(0,o.jsx)(t.strong,{children:"turn OFF"})," simply press the power button, located on the back of the QTrobot, wait enough for QTrobot to completely turn OFF. To be able to correctly and safely turn ON the QTrobot after the use, please always unplug the QTrobot from it's power supply.\n",(0,o.jsx)(t.em,{children:(0,o.jsx)(t.strong,{children:"(Notice: pressing power button does not turn on the QTPC (Nvidia Jetson))"})})]})}),"\n",(0,o.jsx)(t.h3,{id:"step-2-connect-keyboardmouse-and-monitor-to-qtpc",children:"Step 2. Connect keyboard/mouse and monitor to QTPC"}),"\n",(0,o.jsx)(t.p,{children:"Connect keyboard, mouse and HDMI Monitor to your USB-C extension then plug it in the USB-C port at the back of QTrobot."}),"\n",(0,o.jsx)(t.admonition,{title:"QTrobot AI@Edge version",type:"info",children:(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Connect the monitor with provided Display Port - HDMI cable to the Display Port on the back of the QTrobot."}),"\n",(0,o.jsx)(t.li,{children:"Connect the mouse and the keyboard to the USB below the Display port which is connected to QTPC"}),"\n"]})}),"\n",(0,o.jsx)(t.h3,{id:"step-3-wait-for-qtpc-to-boot",children:"Step 3. Wait for QTPC to boot"}),"\n",(0,o.jsx)(t.p,{children:"After you turned on your QTrobot it will need some time until your QTPC turns on, because QTRP will turn on QTPC after ROS environment is up. You will see the Ubuntu desktop of QTPC and you can use in the same way you use a standard desktop for development."}),"\n",(0,o.jsx)("center",{children:(0,o.jsx)("img",{src:"/img/qtpc.png",alt:"QTPC"})}),"\n",(0,o.jsx)(t.admonition,{title:"Powering off QTrobot",type:"info",children:(0,o.jsx)(t.p,{children:"To power off the QTrobot simply press the power button on the back of the QTrobot. This will turn off both QTRP and QTPC. Wait enough for QTrobot to turn off before unplugging it from power supply: a blue screen shows up immediately goes off."})}),"\n",(0,o.jsx)(t.p,{children:"Now you should be all settled and ready for coding.  However, in most cases you need to have access to the internet. So let's follow the next section to connect your QTrobot to your home/office router and the Internet."}),"\n",(0,o.jsx)(t.h2,{id:"qt_to_internet",children:"3. Connect QTrobot to a home network and Internet"}),"\n",(0,o.jsx)(t.p,{children:"To have access to the internet from all machines (as it is demonstrated in the following diagram_, the Wi-Fi of QTRP should be connected to your home router. The internet from the home router, is shared to all other machines (including QTPC) via QTRP. The green arrows shows the direction and how internet shared between QTRP and QTPC."}),"\n",(0,o.jsx)("center",{children:(0,o.jsx)("img",{src:"/img/network2_new.png",width:"50%"})}),"\n",(0,o.jsxs)(t.p,{children:["Therefore, you need to connect the ",(0,o.jsx)(t.strong,{children:"QTRP"})," to your home router's Wi-Fi. To do that do the following steps:"]}),"\n",(0,o.jsx)(t.h3,{id:"step-1-access-qtrp-via-ssh",children:"Step 1. Access QTRP via ssh"}),"\n",(0,o.jsx)(t.p,{children:"From the Ubuntu desktop of QTPC, open a terminal and access QTRP via ssh:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"ssh developer@192.168.100.1\n# or ssh developer@QTRP\n"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsxs)(t.em,{children:["For the password use ",(0,o.jsx)(t.code,{children:"qtrobot"}),"."]})}),"\n",(0,o.jsx)(t.h3,{id:"step-2-configure-qt_wlan0_client-service",children:"Step 2. Configure qt_wlan0_client service"}),"\n",(0,o.jsxs)(t.p,{children:["First, edit the ",(0,o.jsx)(t.code,{children:"/etc/wpa_supplicant/wpa_supplicant-wlan0.conf"})," file to update ",(0,o.jsx)(t.code,{children:"ssid"})," and ",(0,o.jsx)(t.code,{children:"psk"})," accordingly."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"cd /etc/wpa_supplicant\nsudo nano wpa_supplicant-wlan0.conf\n"})}),"\n",(0,o.jsxs)(t.p,{children:["set the ",(0,o.jsx)(t.code,{children:"ssid"})," (your router ssid) and ",(0,o.jsx)(t.code,{children:"psk"})," (your router passphrase) of your home router setup:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'country=LU\nctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev\nupdate_config=1\n\nnetwork={\n    ssid="<your router SSID>"\n    psk="<your router passphrase>"         \n}\n'})}),"\n",(0,o.jsxs)(t.p,{children:["Next, restart the ",(0,o.jsx)(t.code,{children:"qt_wlan0_client"})," service:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"sudo systemctl restart qt_wlan0_client.service\n"})}),"\n",(0,o.jsx)(t.admonition,{title:"Warning",type:"warning",children:(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsxs)(t.strong,{children:["Pay attention that the values for ",(0,o.jsx)(t.em,{children:"ssid"})," and ",(0,o.jsx)(t.em,{children:"psk"})," are wrapped with double quotation marks!"]})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsxs)(t.strong,{children:["Pay attention to the ",(0,o.jsx)(t.code,{children:"<TAB>"})," before ",(0,o.jsx)(t.em,{children:"ssid"})," and ",(0,o.jsx)(t.em,{children:"psk"}),"!"]})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.strong,{children:"Do not create or change any other files related to wpa_supplicant or systemd network! this may break your QTrobot network setup!"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsxs)(t.strong,{children:["Ensure that you are modifying the ",(0,o.jsx)(t.code,{children:"wpa_supplicant-wlan0.conf"})," file and NOT ",(0,o.jsx)(t.code,{children:"wpa_supplicant.conf"})]})}),"\n"]})}),"\n",(0,o.jsx)(t.h3,{id:"step-3-test-and-make-it-permanent",children:"Step 3. Test and make it permanent"}),"\n",(0,o.jsxs)(t.p,{children:["After following the above steps, your QTrobot should be connected to your home/office network and have access to the Internet (i.e. you should be able to ping ",(0,o.jsx)(t.code,{children:"www.google.com"})," for example)."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"ping www.google.com\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Disable the ",(0,o.jsx)(t.code,{children:"qt_wlan0_ap"})," service and enable the ",(0,o.jsx)(t.code,{children:"qt_wlan0_client"})," service to keep QTrobot internet configuration permanent:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"sudo systemctl enable qt_wlan0_client.service\nsudo systemctl disable qt_wlan0_ap.service\n"})}),"\n",(0,o.jsx)(t.p,{children:"You are all settled! QTRP gets internet connection from your router and will automatically share it with QTPC and any other devices connected to QTrobot Wi-FI hotspot."}),"\n",(0,o.jsx)(t.admonition,{title:"Troubleshooting",type:"tip",children:(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Check if QTrobot is connected to your home/office network. Run the following command on QTRP via ssh:\n",(0,o.jsx)(t.em,{children:"sudo wpa_cli -i wlan0 status"}),". You should see ",(0,o.jsx)(t.em,{children:"wpa_state=COMPLETED"})," and the correct ssid is reported."]}),"\n",(0,o.jsxs)(t.li,{children:["Double check that you have entered correct values for ssid and psk in ",(0,o.jsx)(t.em,{children:"/etc/wpa_supplicant/wpa_supplicant-wlan0.conf"}),"!"]}),"\n",(0,o.jsxs)(t.li,{children:["See the status of the qt_wlan0_client service for any typo or misformatted lines in ",(0,o.jsx)(t.em,{children:"/etc/wpa_supplicant/wpa_supplicant-wlan0.conf"}),". To do that, run the following command on QTRP: ",(0,o.jsx)(t.em,{children:"sudo systemctl status qt_wlan0_client.service"})," this should shows that the service is running and ",(0,o.jsx)(t.em,{children:"active"}),". If not, follow the error messages reported by the service."]}),"\n",(0,o.jsx)(t.li,{children:"If you are connected to your home/office network (by checking the previous command) but still does not have access to the internet (e.g. cannot ping google), please double check that your home/office network providing any internet connection!"}),"\n"]})}),"\n",(0,o.jsx)(t.admonition,{title:"Additional Networking information",type:"info",children:(0,o.jsxs)(t.p,{children:["For more informations about QTrobot's networking and to learn how to re-enable QTrobot's hotspot, please check ",(0,o.jsx)(t.a,{href:"/docs/modules/processor#networking",children:"Computation and networking"}),"."]})}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h2,{id:"4-optional-ways-of-working-with-qtrobot",children:"4. Optional ways of working with QTrobot"}),"\n",(0,o.jsxs)(s.Z,{defaultValue:"Computer",values:[{label:"Working with your ROS Setup",value:"Computer"},{label:"Working via SSH",value:"SSH"}],children:[(0,o.jsxs)(i.Z,{value:"Computer",children:[(0,o.jsx)(t.h3,{id:"step-1-setup-your-ros-environment",children:"Step 1. Setup your ROS environment"}),(0,o.jsx)(t.admonition,{title:"Notice",type:"note",children:(0,o.jsxs)(t.p,{children:["For this steps you will need ROS installed on your computer. If you don't have it please follow this installation ",(0,o.jsx)(t.a,{href:"http://wiki.ros.org/ROS/Installation",children:"instructions"})]})}),(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"Install QTrobot ROS headers files on your laptop"})}),"\n",(0,o.jsxs)(t.p,{children:["Clone ",(0,o.jsx)(t.em,{children:(0,o.jsx)(t.strong,{children:(0,o.jsx)(t.a,{href:"https://github.com/luxai-qtrobot/software",children:"QTrobot Software"})})})," repository."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"cd ~/\ngit clone https://github.com/luxai-qtrobot/software.git\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Copy the ",(0,o.jsx)(t.code,{children:"headers"})," folder or make a link in your Catkin source workspace:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"cd ~/catkin_ws/src\nln -s ~/software/headers ./\n"})}),"\n",(0,o.jsx)(t.p,{children:"Build the messages in your Catkin worksapce"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"cd ~/catkin_ws\ncatkin_make\n"})}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"Configure ROS environment for QTrobot"})}),"\n",(0,o.jsx)(t.p,{children:"Connect to the QTrobot Wi-Fi hotspot. Then open a terminal on your laptop and run the following command:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"ifconfig\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Write down or copy IP address that is written of WiFi ",(0,o.jsx)(t.strong,{children:"inet"})," (e.g. ",(0,o.jsx)(t.code,{children:"192.168.4.25"}),")"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"wifi0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n    inet 192.168.4.25  netmask 255.255.255.0  broadcast 10.42.0.255\n    ...\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Edit ",(0,o.jsx)(t.code,{children:"~/.bash_aliases"})," on your laptop/PC and add following lines. Change ",(0,o.jsx)(t.strong,{children:"ROS_IP"})," to your IP from last step."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"source /opt/ros/noetic/setup.bash\nsource ~/catkin_ws/devel/setup.bash\n\n## QTrobot\nexport ROS_IP=<your PC IP address>                        # e.g. 192.168.4.25\nexport ROS_MASTER_URI=http://<your QTrobot serial>:11311  # e.g. http://QTRD000100.local:1131\n"})}),"\n",(0,o.jsx)(t.p,{children:"To apply this configuration run this command:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"source ~/.bash_aliases\n"})}),"\n"]}),"\n"]}),(0,o.jsx)(t.h3,{id:"step-2-test-your-setup",children:"Step 2. Test your setup"}),(0,o.jsx)(t.p,{children:"Last step is to connect to the QTrobot Wi-Fi hotspot and test your ROS environment.\nOne option is to list all ROS topics that are running on QTRobot:"}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"rostopic list\n"})}),(0,o.jsx)(t.p,{children:"If everything is working you should see output similar to this one."}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"/rosout    \n/qt_robot/audio/play\n/qt_robot/behavior/talkAudio\n/qt_robot/emotion/show\n/qt_robot/gesture/play\n/qt_robot/head_position/command\n/qt_robot/joints/state\n...\n"})}),(0,o.jsx)(t.p,{children:"or call some of the QTrobot ROS interfaces:"}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"rosservice call /qt_robot/speech/say \"message: 'Hello.'\"\n"})}),(0,o.jsxs)(t.p,{children:["You will hear QTrobot say ",(0,o.jsx)(t.code,{children:"Hello"}),"."]}),(0,o.jsxs)(t.admonition,{title:"Note: Working with QTrobot hotspot",type:"important",children:[(0,o.jsxs)(t.p,{children:["If you encounter any issue for calling rosservice from your laptop such as delayed response, just add the following line to the ",(0,o.jsx)(t.code,{children:"/etc/hosts"})," file on your ",(0,o.jsx)(t.strong,{children:"laptop"}),":"]}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"192.168.4.1  <your QTrobot serial>  # e.g. QTRD000100.local \n"})})]}),(0,o.jsxs)(t.admonition,{title:"Note: Working with QTrobot connected to external router",type:"important",children:[(0,o.jsxs)(t.p,{children:["If you encounter any issue for calling rosservice from your laptop such as delayed response, just add the following line to the ",(0,o.jsx)(t.code,{children:"/etc/hosts"})," file on your ",(0,o.jsx)(t.strong,{children:"laptop"}),":"]}),(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"find the QTrobot IP in your network, simply connect to QTRP terminal and execute this command:"}),"\n"]}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"ifconfig wlan0\n"})}),(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["write to ",(0,o.jsx)(t.code,{children:"/etc/hosts/"})," the QTrobot IP that you have got, e.g.:"]}),"\n"]}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"192.168.3.193  <your QTrobot serial>  # e.g. QTRD000100.local \n"})}),(0,o.jsxs)(t.p,{children:["If you face issues regarding\xa0reading\xa0some\xa0topics or\xa0calling\xa0rosservices\xa0which\xa0are\xa0running\xa0on\xa0",(0,o.jsx)(t.strong,{children:"QTPC"}),"\xa0(e.g. ERROR:\xa0Unable\xa0to\xa0communicate\xa0with\xa0service...)  you\xa0can\xa0fix\xa0it\xa0as\xa0bellow\xa0on\xa0your\xa0",(0,o.jsx)(t.strong,{children:"laptop"}),":"]}),(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"find\xa0your\xa0laptop\xa0WiFi\xa0interface\xa0name\xa0using:"}),"\n"]}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"ifconfig\xa0-a #e.g. wlan0\n"})}),(0,o.jsx)(t.p,{children:"\xa0\xa0\xa0\xa0"}),(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"run\xa0the\xa0following\xa0command\xa0on\xa0your\xa0laptop:"}),"\n"]}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"sudo\xa0ip\xa0route\xa0add\xa0192.168.100.0/24\xa0via\xa0<your QTrobot IP>\xa0dev\xa0<Wi-Fi interface name>\n#e.g. sudo\xa0ip\xa0route\xa0add\xa0192.168.100.0/24\xa0via\xa0192.168.3.193\xa0dev\xa0wlan0\n"})})]})]}),(0,o.jsxs)(i.Z,{value:"SSH",children:[(0,o.jsx)(t.p,{children:"Alternatively you can directly SSH to QTPC from your laptop to develop code on the QTrobot."}),(0,o.jsxs)(s.Z,{defaultValue:"QTRP",values:[{label:"SSH to QTRP",value:"QTRP"},{label:"SSH to QTPC",value:"QTPC"}],children:[(0,o.jsxs)(i.Z,{value:"QTRP",children:[(0,o.jsxs)(t.p,{children:["To ssh to QTRP, first connect your laptop to the QTrobot Wi-Fi hotspot and run the following command",(0,o.jsx)(t.sup,{children:(0,o.jsx)(t.a,{href:"#user-content-fn-3",id:"user-content-fnref-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})}),". You can alternatively run the following command from QTPC's terminal. For the password use ",(0,o.jsx)(t.code,{children:"qtrobot"}),"."]}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"ssh developer@192.168.100.1\n"})}),(0,o.jsx)(t.admonition,{title:"Notice",type:"info",children:(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"developer"})," user is only to ssh to QTRP. Everything is under ",(0,o.jsx)(t.strong,{children:"qtrobot"})," user, so if you need to change or update something, do it under ",(0,o.jsx)(t.em,{children:"qtrobot"})," user.\nWhen you have sshed to QTRP you can change the user with this command:",(0,o.jsx)(t.strong,{children:"su qtrobot"}),". Password is 'qtrobot'."]})})]}),(0,o.jsxs)(i.Z,{value:"QTPC",children:[(0,o.jsxs)(t.p,{children:["To ssh to QTPC, first connect your laptop to the QTrobot Wi-Fi hotspot and run the following command",(0,o.jsx)(t.sup,{children:(0,o.jsx)(t.a,{href:"#user-content-fn-3",id:"user-content-fnref-3-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})}),". For the password use ",(0,o.jsx)(t.code,{children:"qtrobot"}),"."]}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"ssh qtrobot@192.168.100.2\n"})}),(0,o.jsx)(t.p,{children:"Alternatively you can ssh to QTPC via QTRP with the same command."})]})]})]})]}),"\n",(0,o.jsx)(t.admonition,{title:"All done \ud83d\ude09",type:"tip",children:(0,o.jsxs)(t.p,{children:["Congratulation. You are all settled and ready to start programming with QTrobot. Now you can follow plenty of exciting ",(0,o.jsx)(t.a,{href:"/docs/tutorials/intro_ros",children:"Tutorials"}),"."]})}),"\n",(0,o.jsxs)(t.section,{"data-footnotes":!0,className:"footnotes",children:[(0,o.jsx)(t.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{id:"user-content-fn-1",children:["\n",(0,o.jsxs)(t.p,{children:["Only use the provided power supply with your QTrobot. ",(0,o.jsx)(t.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{id:"user-content-fn-3",children:["\n",(0,o.jsxs)(t.p,{children:["Windows users can use Putty (",(0,o.jsx)(t.a,{href:"http://www.putty.org",children:"www.putty.org"}),") ",(0,o.jsx)(t.a,{href:"#user-content-fnref-3","data-footnote-backref":"","aria-label":"Back to reference 2",className:"data-footnote-backref",children:"\u21a9"})," ",(0,o.jsxs)(t.a,{href:"#user-content-fnref-3-2","data-footnote-backref":"","aria-label":"Back to reference 2-2",className:"data-footnote-backref",children:["\u21a9",(0,o.jsx)(t.sup,{children:"2"})]})]}),"\n"]}),"\n"]}),"\n"]})]})}function m(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},2241:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var o=n(5893),r=n(1151);const s={},i=void 0,a={id:"recent_qtrobots",title:"recent_qtrobots",description:"The following diagram demonstrates a common scenario where different devices (e.g. laptops) are connected to the QTrobot via it's Wi-Fi hotspot. The Wi-Fi of QTRP is setup to operate in AP/STA mode. That means the QTRP's Wi-Fi can be connected to a home router (as Wi-Fi client) and at the same time operates as hotspot (access point). To have access to the internet on all machines (as shown in the diagram), the Wi-Fi of QTRP should be connected to the home router. The internet from the home router, therefore is shared to all other machines (including QTPC) via QTRP. The green arrows shows the direction and how internet shared between QTRP, QTPC and any other devices connected to QTrobot hotspot.",source:"@site/docs/recent_qtrobots.mdx",sourceDirName:".",slug:"/recent_qtrobots",permalink:"/docs/recent_qtrobots",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{}},l={},c=[{value:"Step 1. Access QTRP via ssh",id:"step-1-access-qtrp-via-ssh",level:2},{value:"Step 2. configure the wpa_suplicant for wlan0",id:"step-2-configure-the-wpa_suplicant-for-wlan0",level:2},{value:"Step 3. Restart wpa_supplicant@wlan0 service and check the connectivity",id:"step-3-restart-wpa_supplicantwlan0-service-and-check-the-connectivity",level:2}];function d(e){const t={admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"The following diagram demonstrates a common scenario where different devices (e.g. laptops) are connected to the QTrobot via it's Wi-Fi hotspot. The Wi-Fi of QTRP is setup to operate in AP/STA mode. That means the QTRP's Wi-Fi can be connected to a home router (as Wi-Fi client) and at the same time operates as hotspot (access point). To have access to the internet on all machines (as shown in the diagram), the Wi-Fi of QTRP should be connected to the home router. The internet from the home router, therefore is shared to all other machines (including QTPC) via QTRP. The green arrows shows the direction and how internet shared between QTRP, QTPC and any other devices connected to QTrobot hotspot."}),"\n",(0,o.jsxs)(t.p,{children:["Therefore, you need to connect the ",(0,o.jsx)(t.strong,{children:"QTRP"})," to your home router's Wi-Fi. To do that do the following steps:"]}),"\n",(0,o.jsx)(t.h2,{id:"step-1-access-qtrp-via-ssh",children:"Step 1. Access QTRP via ssh"}),"\n",(0,o.jsx)(t.p,{children:"From the Ubuntu desktop of QTPC, open a terminal and access QTRP via ssh:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"ssh developer@192.168.100.1\r\n# or ssh developer@QTRP\n"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsxs)(t.em,{children:["For the password use ",(0,o.jsx)(t.code,{children:"qtrobot"}),"."]})}),"\n",(0,o.jsx)(t.h2,{id:"step-2-configure-the-wpa_suplicant-for-wlan0",children:"Step 2. configure the wpa_suplicant for wlan0"}),"\n",(0,o.jsxs)(t.p,{children:["Edit the ",(0,o.jsx)(t.code,{children:"/etc/wpa_supplicant/wpa_supplicant-wlan0.conf"})," file to update ",(0,o.jsx)(t.code,{children:"ssid"})," and ",(0,o.jsx)(t.code,{children:"psk"})," accordingly."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"cd /etc/wpa_supplicant\r\nsudo nano wpa_supplicant-wlan0.conf\n"})}),"\n",(0,o.jsxs)(t.p,{children:["set the ",(0,o.jsx)(t.code,{children:"ssid"})," (your router ssid) and ",(0,o.jsx)(t.code,{children:"psk"})," (your router passphrase) of your home router setup:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'country=LU\r\nctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev\r\nupdate_config=1\r\n\r\nnetwork={\r\n    ssid="<your router SSID>"\r\n    psk="<your router passphrase>"         \r\n}\n'})}),"\n",(0,o.jsx)(t.admonition,{title:"Warning",type:"warning",children:(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsxs)(t.strong,{children:["Pay attention that the values for ",(0,o.jsx)(t.em,{children:"ssid"})," and ",(0,o.jsx)(t.em,{children:"psk"})," are wrapped with double quotation marks!"]})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsxs)(t.strong,{children:["Pay attention to the ",(0,o.jsx)(t.code,{children:"<TAB>"})," before ",(0,o.jsx)(t.em,{children:"ssid"})," and ",(0,o.jsx)(t.em,{children:"psk"}),"!"]})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.strong,{children:"Do not create or change any other files related to wpa_supplicant or systemd network! this may break your QTrobot network setup!"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsxs)(t.strong,{children:["Ensure that you are modifying the ",(0,o.jsx)(t.code,{children:"wpa_supplicant-wlan0.conf"})," file and NOT ",(0,o.jsx)(t.code,{children:"wpa_supplicant.conf"})]})}),"\n"]})}),"\n",(0,o.jsx)(t.h2,{id:"step-3-restart-wpa_supplicantwlan0-service-and-check-the-connectivity",children:"Step 3. Restart wpa_supplicant@wlan0 service and check the connectivity"}),"\n",(0,o.jsx)(t.p,{children:"from the ssh terminal of QTRP type:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"sudo systemctl restart wpa_supplicant@wlan0.service\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Alternatively, you can restart your QTrobot. After following the above steps, your QTrobot should be connected to your home/office network and have access to the Internet (i.e. you should be able to ping ",(0,o.jsx)(t.code,{children:"www.google.com"})," for example)."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"ping www.google.com\n"})}),"\n",(0,o.jsx)(t.p,{children:"You are all settled! QTRP gets internet connection from your router and will automatically share it with QTPC and any other devices connected to QTrobot Wi-FI hotspot."}),"\n",(0,o.jsx)(t.admonition,{title:"Troubleshooting",type:"tip",children:(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Check if QTrobot is connected to your home/office network. Run the following command on QTRP via ssh:\r\n",(0,o.jsx)(t.code,{children:"sudo wpa_cli -i wlan0 status"}),". You should see ",(0,o.jsx)(t.code,{children:"wpa_state=COMPLETED"})," and the correct ",(0,o.jsx)(t.code,{children:"ssid"})," is reported."]}),"\n",(0,o.jsxs)(t.li,{children:["Double check that you have entered correct values for ",(0,o.jsx)(t.code,{children:"ssid"})," and ",(0,o.jsx)(t.code,{children:"psk"})," in ",(0,o.jsx)(t.code,{children:"/etc/wpa_supplicant/wpa_supplicant-wlan0.conf"}),"!"]}),"\n",(0,o.jsxs)(t.li,{children:["See the status of the ",(0,o.jsx)(t.em,{children:"wpa_supplicant@wlan0 service"})," for any typo or misformatted lines in ",(0,o.jsx)(t.code,{children:"/etc/wpa_supplicant/wpa_supplicant-wlan0.conf"}),". To do that, run the following command on QTRP:",(0,o.jsx)(t.code,{children:"sudo systemctl status wpa_supplicant@wlan0.service"})," this should shows that the service is running and ",(0,o.jsx)(t.strong,{children:"active"}),". If not, follow the error messages reported by the service."]}),"\n",(0,o.jsx)(t.li,{children:"If you are connected to your home/office network (by checking the previous command) but still does not have access to the internet (e.g. cannot ping google), please double check that your home/office network providing any internet connection!"}),"\n"]})})]})}function h(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},5162:(e,t,n)=>{n.d(t,{Z:()=>i});n(7294);var o=n(512);const r={tabItem:"tabItem_Ymn6"};var s=n(5893);function i(e){let{children:t,hidden:n,className:i}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,o.Z)(r.tabItem,i),hidden:n,children:t})}},4866:(e,t,n)=>{n.d(t,{Z:()=>T});var o=n(7294),r=n(512),s=n(2466),i=n(6550),a=n(469),l=n(1980),c=n(7392),d=n(12);function h(e){return o.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:n}=e;return(0,o.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:n,attributes:o,default:r}}=e;return{value:t,label:n,attributes:o,default:r}}))}(n);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const r=(0,i.k6)(),s=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l._X)(s),(0,o.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(r.location.search);t.set(s,e),r.replace({...r.location,search:t.toString()})}),[s,r])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,s=u(e),[i,l]=(0,o.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const o=n.find((e=>e.default))??n[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:t,tabValues:s}))),[c,h]=m({queryString:n,groupId:r}),[f,g]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,s]=(0,d.Nk)(n);return[r,(0,o.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:r}),x=(()=>{const e=c??f;return p({value:e,tabValues:s})?e:null})();(0,a.Z)((()=>{x&&l(x)}),[x]);return{selectedValue:i,selectValue:(0,o.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),g(e)}),[h,g,s]),tabValues:s}}var g=n(2389);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=n(5893);function j(e){let{className:t,block:n,selectedValue:o,selectValue:i,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.o5)(),d=e=>{const t=e.currentTarget,n=l.indexOf(t),r=a[n].value;r!==o&&(c(t),i(r))},h=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t),children:a.map((e=>{let{value:t,label:n,attributes:s}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,ref:e=>l.push(e),onKeyDown:h,onClick:d,...s,className:(0,r.Z)("tabs__item",x.tabItem,s?.className,{"tabs__item--active":o===t}),children:n??t},t)}))})}function w(e){let{lazy:t,children:n,selectedValue:r}=e;const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=s.find((e=>e.props.value===r));return e?(0,o.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==r})))})}function y(e){const t=f(e);return(0,b.jsxs)("div",{className:(0,r.Z)("tabs-container",x.tabList),children:[(0,b.jsx)(j,{...e,...t}),(0,b.jsx)(w,{...e,...t})]})}function T(e){const t=(0,g.Z)();return(0,b.jsx)(y,{...e,children:h(e.children)},String(t))}}}]);