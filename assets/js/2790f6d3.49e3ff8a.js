"use strict";(self.webpackChunkqtrobot_documentation=self.webpackChunkqtrobot_documentation||[]).push([[2234],{2241:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>i,default:()=>l,frontMatter:()=>r,metadata:()=>c,toc:()=>h});var o=n(5893),s=n(1151);const r={},i=void 0,c={id:"recent_qtrobots",title:"recent_qtrobots",description:"The following diagram demonstrates a common scenario where different devices (e.g. laptops) are connected to the QTrobot via it's Wi-Fi hotspot. The Wi-Fi of QTRP is setup to operate in AP/STA mode. That means the QTRP's Wi-Fi can be connected to a home router (as Wi-Fi client) and at the same time operates as hotspot (access point). To have access to the internet on all machines (as shown in the diagram), the Wi-Fi of QTRP should be connected to the home router. The internet from the home router, therefore is shared to all other machines (including QTPC) via QTRP. The green arrows shows the direction and how internet shared between QTRP, QTPC and any other devices connected to QTrobot hotspot.",source:"@site/docs/recent_qtrobots.mdx",sourceDirName:".",slug:"/recent_qtrobots",permalink:"/docs/recent_qtrobots",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{}},a={},h=[{value:"Step 1. Access QTRP via ssh",id:"step-1-access-qtrp-via-ssh",level:2},{value:"Step 2. configure the wpa_suplicant for wlan0",id:"step-2-configure-the-wpa_suplicant-for-wlan0",level:2},{value:"Step 3. Restart wpa_supplicant@wlan0 service and check the connectivity",id:"step-3-restart-wpa_supplicantwlan0-service-and-check-the-connectivity",level:2}];function d(e){const t={admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"The following diagram demonstrates a common scenario where different devices (e.g. laptops) are connected to the QTrobot via it's Wi-Fi hotspot. The Wi-Fi of QTRP is setup to operate in AP/STA mode. That means the QTRP's Wi-Fi can be connected to a home router (as Wi-Fi client) and at the same time operates as hotspot (access point). To have access to the internet on all machines (as shown in the diagram), the Wi-Fi of QTRP should be connected to the home router. The internet from the home router, therefore is shared to all other machines (including QTPC) via QTRP. The green arrows shows the direction and how internet shared between QTRP, QTPC and any other devices connected to QTrobot hotspot."}),"\n",(0,o.jsxs)(t.p,{children:["Therefore, you need to connect the ",(0,o.jsx)(t.strong,{children:"QTRP"})," to your home router's Wi-Fi. To do that do the following steps:"]}),"\n",(0,o.jsx)(t.h2,{id:"step-1-access-qtrp-via-ssh",children:"Step 1. Access QTRP via ssh"}),"\n",(0,o.jsx)(t.p,{children:"From the Ubuntu desktop of QTPC, open a terminal and access QTRP via ssh:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"ssh developer@192.168.100.1\r\n# or ssh developer@QTRP\n"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsxs)(t.em,{children:["For the password use ",(0,o.jsx)(t.code,{children:"qtrobot"}),"."]})}),"\n",(0,o.jsx)(t.h2,{id:"step-2-configure-the-wpa_suplicant-for-wlan0",children:"Step 2. configure the wpa_suplicant for wlan0"}),"\n",(0,o.jsxs)(t.p,{children:["Edit the ",(0,o.jsx)(t.code,{children:"/etc/wpa_supplicant/wpa_supplicant-wlan0.conf"})," file to update ",(0,o.jsx)(t.code,{children:"ssid"})," and ",(0,o.jsx)(t.code,{children:"psk"})," accordingly."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"cd /etc/wpa_supplicant\r\nsudo nano wpa_supplicant-wlan0.conf\n"})}),"\n",(0,o.jsxs)(t.p,{children:["set the ",(0,o.jsx)(t.code,{children:"ssid"})," (your router ssid) and ",(0,o.jsx)(t.code,{children:"psk"})," (your router passphrase) of your home router setup:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'country=LU\r\nctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev\r\nupdate_config=1\r\n\r\nnetwork={\r\n    ssid="<your router SSID>"\r\n    psk="<your router passphrase>"         \r\n}\n'})}),"\n",(0,o.jsx)(t.admonition,{title:"Warning",type:"warning",children:(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsxs)(t.strong,{children:["Pay attention that the values for ",(0,o.jsx)(t.em,{children:"ssid"})," and ",(0,o.jsx)(t.em,{children:"psk"})," are wrapped with double quotation marks!"]})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsxs)(t.strong,{children:["Pay attention to the ",(0,o.jsx)(t.code,{children:"<TAB>"})," before ",(0,o.jsx)(t.em,{children:"ssid"})," and ",(0,o.jsx)(t.em,{children:"psk"}),"!"]})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.strong,{children:"Do not create or change any other files related to wpa_supplicant or systemd network! this may break your QTrobot network setup!"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsxs)(t.strong,{children:["Ensure that you are modifying the ",(0,o.jsx)(t.code,{children:"wpa_supplicant-wlan0.conf"})," file and NOT ",(0,o.jsx)(t.code,{children:"wpa_supplicant.conf"})]})}),"\n"]})}),"\n",(0,o.jsx)(t.h2,{id:"step-3-restart-wpa_supplicantwlan0-service-and-check-the-connectivity",children:"Step 3. Restart wpa_supplicant@wlan0 service and check the connectivity"}),"\n",(0,o.jsx)(t.p,{children:"from the ssh terminal of QTRP type:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"sudo systemctl restart wpa_supplicant@wlan0.service\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Alternatively, you can restart your QTrobot. After following the above steps, your QTrobot should be connected to your home/office network and have access to the Internet (i.e. you should be able to ping ",(0,o.jsx)(t.code,{children:"www.google.com"})," for example)."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"ping www.google.com\n"})}),"\n",(0,o.jsx)(t.p,{children:"You are all settled! QTRP gets internet connection from your router and will automatically share it with QTPC and any other devices connected to QTrobot Wi-FI hotspot."}),"\n",(0,o.jsx)(t.admonition,{title:"Troubleshooting",type:"tip",children:(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Check if QTrobot is connected to your home/office network. Run the following command on QTRP via ssh:\r\n",(0,o.jsx)(t.code,{children:"sudo wpa_cli -i wlan0 status"}),". You should see ",(0,o.jsx)(t.code,{children:"wpa_state=COMPLETED"})," and the correct ",(0,o.jsx)(t.code,{children:"ssid"})," is reported."]}),"\n",(0,o.jsxs)(t.li,{children:["Double check that you have entered correct values for ",(0,o.jsx)(t.code,{children:"ssid"})," and ",(0,o.jsx)(t.code,{children:"psk"})," in ",(0,o.jsx)(t.code,{children:"/etc/wpa_supplicant/wpa_supplicant-wlan0.conf"}),"!"]}),"\n",(0,o.jsxs)(t.li,{children:["See the status of the ",(0,o.jsx)(t.em,{children:"wpa_supplicant@wlan0 service"})," for any typo or misformatted lines in ",(0,o.jsx)(t.code,{children:"/etc/wpa_supplicant/wpa_supplicant-wlan0.conf"}),". To do that, run the following command on QTRP:",(0,o.jsx)(t.code,{children:"sudo systemctl status wpa_supplicant@wlan0.service"})," this should shows that the service is running and ",(0,o.jsx)(t.strong,{children:"active"}),". If not, follow the error messages reported by the service."]}),"\n",(0,o.jsx)(t.li,{children:"If you are connected to your home/office network (by checking the previous command) but still does not have access to the internet (e.g. cannot ping google), please double check that your home/office network providing any internet connection!"}),"\n"]})})]})}function l(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);