<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="search" type="application/opensearchdescription+xml" title="QTrobot Documentation" href="/opensearch.xml">
<!-- Google Tag Manager -->
              <script>var ck=document.cookie;let internal=ck.search("internalTraffic=true");function enableGTM(){!function(e,t,n,a,o){e[a]=e[a]||[],e[a].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var r=t.getElementsByTagName(n)[0],c=t.createElement(n);c.async=!0,c.src="https://www.googletagmanager.com/gtm.js?id=GTM-KQ6W3F7",r.parentNode.insertBefore(c,r)}(window,document,"script","dataLayer")}-1==internal&&(console.log("Cookie not set!"),enableGTM())</script>
              <!-- End Google Tag Manager -->
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><title data-rh="true">QTrobot Emotion and Face | QTrobot Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.luxai.com/docs/modules/display"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="QTrobot Emotion and Face | QTrobot Documentation"><meta data-rh="true" name="description" content="QTrobot has an integrated 800x480 standard display in the head which is mainly used for showing facial emotions. However, the use of the display is not limited and developers can use it as standard screen for displaying any visual content or even use it with Linux graphical desktop. The display is connected to QTRP (Raspberry Pi board in the head) via HDMI interface as shown in the image below. QTrobot&#x27;s display is not touchscreen; simply because we do not want to encourage kids and other users to interact with the robot by touching its face."><meta data-rh="true" property="og:description" content="QTrobot has an integrated 800x480 standard display in the head which is mainly used for showing facial emotions. However, the use of the display is not limited and developers can use it as standard screen for displaying any visual content or even use it with Linux graphical desktop. The display is connected to QTRP (Raspberry Pi board in the head) via HDMI interface as shown in the image below. QTrobot&#x27;s display is not touchscreen; simply because we do not want to encourage kids and other users to interact with the robot by touching its face."><link data-rh="true" rel="icon" href="/img/luxai-favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.luxai.com/docs/modules/display"><link data-rh="true" rel="alternate" href="https://docs.luxai.com/docs/modules/display" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.luxai.com/docs/modules/display" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://NHG3L6L4QM-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.b5bf65b3.css">
<link rel="preload" href="/assets/js/runtime~main.65d98223.js" as="script">
<link rel="preload" href="/assets/js/main.a8baad6c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_luxai_mini.png" alt="LuxAI" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo_luxai_mini.png" alt="LuxAI" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">Visual Scripting</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/intro_graphical">Quick start</a></li><li><a class="dropdown__link" href="/docs/tutorials/intro_studio">Tutorials</a></li><li><a class="dropdown__link" href="/docs/blocks_api">Blocks reference</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link">Coding</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/intro_code">Quick start</a></li><li><a class="dropdown__link" href="/docs/tutorials/intro_ros">Tutorials</a></li><li><a aria-current="page" class="dropdown__link navbar__link--active" href="/docs/modules/display">Competences</a></li><li><a class="dropdown__link" href="/docs/api_ros">API references</a></li></ul></div><a class="navbar__item navbar__link" href="/demos">Demos</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/intro_code">QTrobot V2</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/modules/display">QTrobot V2</a></li><li><a class="dropdown__link" href="/docs/v1/modules/display">QTrobot V1</a></li></ul></div><a class="navbar__item navbar__link" href="/support">Support</a><a href="https://github.com/luxai-qtrobot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/modules/display">Face and Emotion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/modules/speakers">Sound and Speech</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/modules/microphone">Audio Processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/modules/camera">Vision System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/modules/motors">Motion and Actuators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/modules/processor">Computation and Networking</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/">üè†</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/modules/display">Face and Emotion</a></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: QTrobot V2</span><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>QTrobot Emotion and Face</h1></header><p>QTrobot has an integrated 800x480 standard display in the head which is mainly used for showing facial emotions. However, the use of the display is not limited and developers can use it as standard screen for displaying any visual content or even use it with Linux graphical desktop. The display is connected to QTRP (Raspberry Pi board in the head) via HDMI interface as shown in the image below. QTrobot&#x27;s display is <strong>not touchscreen</strong>; simply because we do not want to encourage kids and other users to interact with the robot by touching its face.</p><div class="container"><div class="row"><div class="col col--7"><img src="/img/display.png" alt="display"></div><div class="col col--5"><div id="03b1816b-5ebd-4757-96e7-86a7d68ed7f7" style="width:370px;text-align:center;background-color:;border:0px solid red"><div id="03b1816b-5ebd-4757-96e7-86a7d68ed7f7" style="width:259.10364145658264px;height:148px;background-image:url(/assets/images/QT_QT_neutral_state_blinking-5d8d7cb24735325cf256575d9229db11.gif);background-size:contain;z-index:0;position:relative;left:53.6231884057971px;top:98.66666666666667px;margin-bottom:-148px"></div><img src="/assets/images/qt_head-cd1f3ecbe79fb245a572462c68f363f1.png" style="width:370px;position:relative;margin-top:0px;z-index:1"><select style="width:80%;height:32px"><option value="QT_QT_afraid.gif">afraid</option><option value="QT_QT_angry.gif">angry</option><option value="QT_QT_blowing_raspberry.gif">blowing raspberry</option><option value="QT_QT_breathing_exercise.gif">breathing exercise</option><option value="QT_QT_brushing_teeth.gif">brushing teeth</option><option value="QT_QT_brushing_teeth_foam.gif">brushing teeth foam</option><option value="QT_QT_calmig_down_exercise_nose.gif">calmig down exercise nose</option><option value="QT_QT_calming_down.gif">calming down</option><option value="QT_QT_confused.gif">confused</option><option value="QT_QT_cry.gif">cry</option><option value="QT_QT_dirty_face.gif">dirty face</option><option value="QT_QT_dirty_face_sad.gif">dirty face sad</option><option value="QT_QT_dirty_face_wash.gif">dirty face wash</option><option value="QT_QT_disgusted.gif">disgusted</option><option value="QT_QT_happy.gif">happy</option><option value="QT_QT_happy_blinking.gif">happy blinking</option><option value="QT_QT_kiss.gif">kiss</option><option value="QT_QT_neutral.gif">neutral</option><option selected="" value="QT_QT_neutral_state_blinking.gif">neutral state blinking</option><option value="QT_QT_puffing_the_chredo_eeks.gif">puffing the chredo eeks</option><option value="QT_QT_sad.gif">sad</option><option value="QT_QT_scream.gif">scream</option><option value="QT_QT_showing_smile.gif">showing smile</option><option value="QT_QT_shy.gif">shy</option><option value="QT_QT_talking.gif">talking</option><option value="QT_QT_with_a_cold.gif">with a cold</option><option value="QT_QT_with_a_cold_cleaning_nose.gif">with a cold cleaning nose</option><option value="QT_QT_with_a_cold_sneezing.gif">with a cold sneezing</option><option value="QT_QT_yawn.gif">yawn</option></select></div></div></div></div><table><thead><tr><th><strong>Specifications</strong></th><th></th></tr></thead><tbody><tr><td>Screen Size</td><td>8.0 (Diagonal) inch</td></tr><tr><td>Display Format</td><td>800RGB(H)√ó480(V) dot</td></tr><tr><td>Active Area</td><td>176.64(H)√ó99.36(V) mm</td></tr><tr><td>Pixel Size</td><td>0.0736(H)√ó0.2070(V) mm</td></tr></tbody></table><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="software-interface">Software interface<a class="hash-link" href="#software-interface" title="Direct link to heading">‚Äã</a></h2><p>The <code>qt_robot_interface</code> ROS node is the QTrobot&#x27;s display driver. This node implements varieties of ROS interfaces including the <a href="/docs/api_ros#emotion-interface"><strong>Emotion interface</strong></a>. Using emotion interface, one can show plenty of default QTrobot facial expressions such as happy, sad, surprised, etc. The facial expresions (a.k.a emotions) are simply <strong>video files</strong> which are located and categorized in QTRP under <code>~/robot/data/emotions</code> folder. </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="showing-default-emotions">Showing default emotions<a class="hash-link" href="#showing-default-emotions" title="Direct link to heading">‚Äã</a></h3><p>The <code>qt_robot_interface</code> implements both ROS service and topic interfaces to handle emotions. To display QTrobot&#x27;s default emotion you can use one of the following methods: </p><ul><li>Using <a href="/docs/intro_graphical"><strong>Educator tablet</strong></a> app</li><li>Publishing to <code>/qt_robot/emotion/show</code> topic </li><li>Calling <code>/qt_robot/emotion/show</code> service </li></ul><p>Here are some examples for showing QTrobot happy emotion which is under <code>~/robot/data/emotions/QT</code> folder.  Open a terminal on QTPC and run the following commands: </p><p><strong>Using Publisher:</strong></p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">rostopic pub /qt_robot/emotion/show std_msgs/String </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;data: &#x27;QT/happy&#x27;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>Using Service call:</strong></p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">rosservice call /qt_robot/emotion/show </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;name: &#x27;QT/happy&#x27;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note</h5></div><div class="admonition-content"><p>As it shown in the above example, you should <strong>not</strong> specify the emotion&#x27;s file extension (<code>.avi</code>)!</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="emotion-interface-config">Emotion interface config<a class="hash-link" href="#emotion-interface-config" title="Direct link to heading">‚Äã</a></h3><p>The <code>qt_robot_interface</code> has a config file which is located under <code>/opt/ros/noetic/share/qt_robot_interface/config</code> folder. This config file also incudes configuration of emotion interface such as setting startup emotion and idle emotion to be shown on the robot. Under emotion section you will see following lines:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  emotion:</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">        path:  </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/home/qtrobot/robot/data/emotions&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        display_width: </span><span class="token number">800</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        display_height: </span><span class="token number">480</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        fps_ratio: </span><span class="token number">2.5</span><span class="token plain"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">        idle_emotion: </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;QT/neutral_state_blinking.avi&#x27;</span><span class="token plain"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">        startup_emotion: </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;QT/yawn.avi&#x27;</span><span class="token plain"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#F8F8F2"><span class="token plain">        disable_interface: </span><span class="token boolean">false</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="disabling-qtrobot-emotion-interface">Disabling QTrobot emotion interface<a class="hash-link" href="#disabling-qtrobot-emotion-interface" title="Direct link to heading">‚Äã</a></h3><p>As we have explained above, you can display your custom video file using emotion interface. However, you may have some particular scenario where you want to implement your own image/video player for QTrobot. In this case, you can disable only the emotion part of <code>qt_robot_interface</code> and have the display freely for your own setup. To do that simple modify the <code>/opt/ros/noetic/share/qt_robot_interface/config/qtrobot-interface.yaml</code> file as follows: </p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  emotion:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        disable_interface: true</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note</h5></div><div class="admonition-content"><p>The <a href="/docs/api_ros#behavior-interface"><strong>Behavior interface</strong></a> (i.e. TalkText and TalkAudio) needs emotion interface. So Please notice that if you disable the QTrobot emotion interface, TalkText and TalkAudio will be automatically disabled too.</p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="creating-and-playing-your-own-emotion">Creating and playing your own emotion<a class="hash-link" href="#creating-and-playing-your-own-emotion" title="Direct link to heading">‚Äã</a></h2><p>QTrobot emotion interface can play different video files including </p><ul><li>AVI (H.264 X.264 or H.264,)</li><li>MP4 (v2)</li><li>MOV (Apple QuickTime movie)</li></ul><p>Despite which format your video files has, it should be always named with <strong><code>.avi</code></strong> extension. </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="playing-a-video-file">Playing a video file<a class="hash-link" href="#playing-a-video-file" title="Direct link to heading">‚Äã</a></h3><p>To display custom video, simply copy it to the default emotions data folder (<code>~/robot/data/emotions</code>) on QTRP and play it similar to any other emotions suing publisher or service call. Let&#x27;s look at the following example.</p><ul><li>Video name: &quot;myvideo.avi&quot;</li><li>Video path: &quot;~/robot/data/emotions/myvideo.avi&quot;</li></ul><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">rostopic pub /qt_robot/emotion/show std_msgs/String </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;data: &#x27;myvideo&#x27;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The video will be stopped when it finishes. However, you can always interrupt and stop it using emotion <code>stop</code> service call: </p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">rosservice call /qt_robot/emotion/stop </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;{}&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tips</h5></div><div class="admonition-content"><p>  To have a better quality and have more optimized video files for QTrobot, it&#x27;s better you create/resize the video to 800x480 pixels with lower framerate (less than 18fps).</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="displaying-an-image-file-jpg-png">Displaying an image file (JPG, PNG)<a class="hash-link" href="#displaying-an-image-file-jpg-png" title="Direct link to heading">‚Äã</a></h3><p>The QTrobot emotion interface also support image file format. but the issue with showing it is that images does not have a timeframes and immediately disappears after showing up on the face. For the time being, the best way to show an image for a desired period is to convert it to simple AVI file with the desired delay.
You can use the <code>ffmpeg</code> command in Linux to convert an image to a video file as shown here: </p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ffmpeg -loop </span><span class="token number">1</span><span class="token plain"> -framerate </span><span class="token number">18</span><span class="token plain"> -i image.jpg -c:v libx264 -t </span><span class="token number">10</span><span class="token plain"> -pix_fmt yuv420p myimage.avi</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>the above command creates <code>myvideo.avi </code>video file which shows the <code>image.jpg</code> for <code>10</code> second.  </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="displaying-a-gif-file">Displaying a GIF file<a class="hash-link" href="#displaying-a-gif-file" title="Direct link to heading">‚Äã</a></h3><p>Same as the above procedure, we need to convert the GIF file into an video file. We can do that using <code>ffmpeg</code> tools as shown bellow:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ffmpeg -r 10  -i image.gif -movflags faststart -pix_fmt yuv420p -vf &quot;scale=trunc(iw/2)*2:trunc(ih/2)*2&quot; mygif.avi</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You can change the framerate parameter <code>-r</code> to make the gif animation slower (e.g. <code>-r 4</code>) or faster (e.g. <code>-r 18</code>). </p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tips</h5></div><div class="admonition-content"><p> You can learn more about the <code>ffmpeg</code> powerful tool for creating more interesting contents such as slideshow here: <a href="https://trac.ffmpeg.org/wiki/Slideshow#Sequential" target="_blank" rel="noopener noreferrer">ffmpeg wiki</a></p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/modules/speakers"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">QTrobot Sound and Speech</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#software-interface" class="table-of-contents__link toc-highlight">Software interface</a><ul><li><a href="#showing-default-emotions" class="table-of-contents__link toc-highlight">Showing default emotions</a></li><li><a href="#emotion-interface-config" class="table-of-contents__link toc-highlight">Emotion interface config</a></li><li><a href="#disabling-qtrobot-emotion-interface" class="table-of-contents__link toc-highlight">Disabling QTrobot emotion interface</a></li></ul></li><li><a href="#creating-and-playing-your-own-emotion" class="table-of-contents__link toc-highlight">Creating and playing your own emotion</a><ul><li><a href="#playing-a-video-file" class="table-of-contents__link toc-highlight">Playing a video file</a></li><li><a href="#displaying-an-image-file-jpg-png" class="table-of-contents__link toc-highlight">Displaying an image file (JPG, PNG)</a></li><li><a href="#displaying-a-gif-file" class="table-of-contents__link toc-highlight">Displaying a GIF file</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Visual Scripting</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro_graphical">Quick start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/intro_studio">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/blocks_api">Blocks reference</a></li><li class="footer__item"><a href="https://qtrobot.luxai.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">QTrobot Studio</a></li></ul></div><div class="col footer__col"><div class="footer__title">Coding</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro_code">Quick start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/intro_ros">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/modules/display">Competences</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api_ros">API references</a></li></ul></div><div class="col footer__col"><div class="footer__title">GitHub</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/luxai-qtrobot/software" target="_blank" rel="noopener noreferrer" class="footer__link-item">Software</a></li><li class="footer__item"><a href="https://github.com/luxai-qtrobot/tutorials" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials</a></li><li class="footer__item"><a href="https://github.com/luxai-qtrobot/QA/issues?q=is%3Aopen+is%3Aissue+label%3Aquestion" target="_blank" rel="noopener noreferrer" class="footer__link-item">Q&amp;A</a></li></ul></div><div class="col footer__col"><div class="footer__title">LuxAI S.A.</div><ul class="footer__items"><li class="footer__item"><a href="https://luxai.com/humanoid-social-robot-for-research-and-teaching/" target="_blank" rel="noopener noreferrer" class="footer__link-item">QTrobot for research</a></li><li class="footer__item"><a href="https://luxai.com/assistive-tech-robot-for-special-needs-education/" target="_blank" rel="noopener noreferrer" class="footer__link-item">QTrobot for schools</a></li><li class="footer__item"><a href="https://luxai.com/shop/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Shop</a></li><li class="footer__item"><a class="footer__link-item" href="/support">Get support</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://luxai.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_RC3H"><img src="/img/luxai-favicon.ico" alt="LuxAI" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/img/luxai-favicon.ico" alt="LuxAI" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></a></div><div class="footer__copyright">Copyright ¬© 2023 LuxAI S.A.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.65d98223.js"></script>
<script src="/assets/js/main.a8baad6c.js"></script>
</body>
</html>