<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="search" type="application/opensearchdescription+xml" title="QTrobot Documentation" href="/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><title data-react-helmet="true">QTrobot Audio processing and Microphone | QTrobot Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.luxai.com/docs/modules/microphone"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="QTrobot Audio processing and Microphone | QTrobot Documentation"><meta data-react-helmet="true" name="description" content="QTrobot has an integrated High-performance digital microphones array in the head. It is a ReSpeaker Mic Array v2.0 board from SeedStudio with plenty of features such as voice activity detection, direction of arrival, beamforming and noise Suppression. This powerful microphone can be used in variety of scenarios such as voice interaction, interactive vision-voice applications, multichannel raw audio recording and processing and etc. It is connected to Raspberry Pi (QTRP) via USB port and it is open for developers to freely tune, configure and use it in standard ways."><meta data-react-helmet="true" property="og:description" content="QTrobot has an integrated High-performance digital microphones array in the head. It is a ReSpeaker Mic Array v2.0 board from SeedStudio with plenty of features such as voice activity detection, direction of arrival, beamforming and noise Suppression. This powerful microphone can be used in variety of scenarios such as voice interaction, interactive vision-voice applications, multichannel raw audio recording and processing and etc. It is connected to Raspberry Pi (QTRP) via USB port and it is open for developers to freely tune, configure and use it in standard ways."><link data-react-helmet="true" rel="shortcut icon" href="/img/luxai-favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.luxai.com/docs/modules/microphone"><link data-react-helmet="true" rel="alternate" href="https://docs.luxai.com/docs/modules/microphone" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.luxai.com/docs/modules/microphone" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.d37c6473.css">
<link rel="preload" href="/assets/js/runtime~main.7e256a15.js" as="script">
<link rel="preload" href="/assets/js/main.0d11e6ef.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_luxai_mini.png" alt="LuxAI" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo_luxai_mini.png" alt="LuxAI" class="themedImage_1VuW themedImage--dark_hz6m"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Visual Scripting</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/intro_graphical">Quick start</a></li><li><a class="dropdown__link" href="/docs/tutorials/intro_studio">Tutorials</a></li><li><a class="dropdown__link" href="/docs/blocks_api">Blocks reference</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Coding</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/intro_code">Quick start</a></li><li><a class="dropdown__link" href="/docs/tutorials/intro_ros">Tutorials</a></li><li><a class="dropdown__link navbar__link--active" href="/docs/modules/display">Competences</a></li><li><a class="dropdown__link" href="/docs/api_ros">API references</a></li></ul></div><a class="navbar__item navbar__link" href="/demos">Demos</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/support">Support</a><a href="https://github.com/luxai-qtrobot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/modules/display">Face and Emotion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/modules/speakers">Sound and Speech</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/modules/microphone">Audio Processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/modules/camera">Vision System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/modules/motors">Motion and Actuators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/modules/processor">Computation and Networking</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>QTrobot Audio processing and Microphone</h1></header><p>QTrobot has an integrated High-performance digital microphones array in the head. It is a <a href="https://wiki.seeedstudio.com/ReSpeaker_Mic_Array_v2.0/" target="_blank" rel="noopener noreferrer"><strong>ReSpeaker Mic Array v2.0</strong></a> board from SeedStudio with plenty of features such as voice activity detection, direction of arrival, beamforming and noise Suppression. This powerful microphone can be used in variety of scenarios such as voice interaction, interactive vision-voice applications, multichannel raw audio recording and processing and etc. It is connected to Raspberry Pi (QTRP) via USB port and it is open for developers to freely tune, configure and use it in standard ways. </p><center><img src="/img/microphone.png" alt="microphone"></center><p><strong>Specification:</strong></p><ul><li>4 High-performance digital microphones</li><li>supports far-field voice capture</li><li>Speech algorithm on-chip</li><li>12 programmable RGB LED indicators</li><li>Microphones: ST MP34DT01TR-M</li><li>Sensitivity: -26 dBFS (omnidirectional)</li><li>Acoustic overload point: 120 dB SPL</li><li>SNR: 61 dB</li><li>Max Sample Rate:16Khz</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="software-interfaces">Software interfaces<a aria-hidden="true" class="hash-link" href="#software-interfaces" title="Direct link to heading">​</a></h2><p>Like any other standard microphones, the QTrobot Respeaker microphone is an standard Linux capture device which is managed by ALSA driver. Bellow you can see the output of <code>arecord -l</code> command which lists all capture devices in QTRP: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">**** List of CAPTURE Hardware Devices ****</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">card 2: ArrayUAC10 [ReSpeaker 4 Mic Array (UAC1.0)], device 0: USB Audio [USB Audio]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Subdevices: 0/1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Subdevice #0: subdevice #0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>QTrobot comes with following pre-installed software for speech recognition, accessing raw raw microphone data and tuning tool. These software interfaces are installed on QTRP because direct access to the microphone device is required. </p><ul><li><a href="https://github.com/luxai-qtrobot/software/tree/master/apps/qt_vosk_app" target="_blank" rel="noopener noreferrer"><strong>qt_vosk_app</strong></a>: an <em>offline</em> and multilingual speech recognition ROS service based on VOSK library  (<strong>running by default</strong>)</li><li><a href="https://github.com/luxai-qtrobot/tutorials/tree/master/examples/qt_gspeech_interface" target="_blank" rel="noopener noreferrer"><strong>qt_gspeech_interface</strong></a>: an <em>online</em> and multilingual speech recognition ROS service based on Google Speech-To-Text API</li><li><a href="https://github.com/luxai-qtrobot/software/tree/master/apps/qt_respeaker_app" target="_blank" rel="noopener noreferrer"><strong>qt_respeaker_app</strong></a>: ROS services for streaming multichannel microphone audio data, voice activity, voice direction and etc.  </li><li><a href="https://github.com/luxai-qtrobot/software/tree/master/tools/respeaker_mic_tunning" target="_blank" rel="noopener noreferrer"><strong>respeaker_mic_tuning</strong></a>: A graphical tools for detailed tuning of Respeaker microphone</li></ul><p>For the time being, most of these interface <strong>exclusively</strong> access the microphone. That means, for example, one should first stop <code>qt_vosk_app</code>, and run <code>qt_respeaker_app</code> if he/she needs to access raw microphone audio data using <code>qt_respeaker_app</code>. </p><h2 class="anchor anchorWithStickyNavbar_31ik" id="offline-speech-recognition">Offline speech recognition<a aria-hidden="true" class="hash-link" href="#offline-speech-recognition" title="Direct link to heading">​</a></h2><p>QTrobot uses <code>qt_vosk_app</code> for offline speech recognition. The <code>qt_vosk_app</code> is installed in QTRP <code>~/catkin_ws</code> and it is running by default. Some of the required language models for speech recognitions are installed in <code>~/robot/vosk/models</code> in QTRP such as <code>en_US</code> for English, <code>de_DE</code> for German, <code>fr_FR</code> for French languages.
You can try and use the speech recognitions in different ways. </p><h3 class="anchor anchorWithStickyNavbar_31ik" id="accessing-voice-recognition-from-terminal">Accessing voice recognition from terminal<a aria-hidden="true" class="hash-link" href="#accessing-voice-recognition-from-terminal" title="Direct link to heading">​</a></h3><p>Like many other ROS services, you can call <code>/qt_robot/speech/recognize</code> with the desired language and options. The options can be used to tell the service to stop and return the recognized words as soon one of the given options is detected. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ rosservice call /qt_robot/speech/recognize </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;language: &#x27;en_US&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">options:[]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">timeout: 0&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="accessing-voice-recognition-from-code">Accessing voice recognition from code<a aria-hidden="true" class="hash-link" href="#accessing-voice-recognition-from-code" title="Direct link to heading">​</a></h3><p>Take a look at our <a href="/docs/tutorials/python/python_ros_vosk"><strong>Python offline speech recognition</strong></a> tutorial to learn how to call <code>qt_vosk_app</code> services from a Python code. Here is also a Python code snippet: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> qt_vosk_app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">srv </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">recognize </span><span class="token operator">=</span><span class="token plain"> rospy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ServiceProxy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/qt_robot/speech/recognize&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> speech_recognize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">resp </span><span class="token operator">=</span><span class="token plain"> recognize</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;en_US&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;blue&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;green&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;red&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;I got: %s&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> resp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">transcript</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="accessing-voice-recognition-using-qtrobot-visual-studio-blocks">Accessing voice recognition using QTrobot visual studio blocks<a aria-hidden="true" class="hash-link" href="#accessing-voice-recognition-using-qtrobot-visual-studio-blocks" title="Direct link to heading">​</a></h3><p>QTrobot studio offers very flexible and powerful blocks to handle complex ROS messages and interact with other publishers, subscribers and services. You can follow <a href="/docs/tutorials/graphical/studio_ros"><strong>Using ROS blocks</strong></a> tutorial to learn how to call <code>qt_vosk_app</code> using QTrobot visual studio blocks.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="installing-more-languages">Installing more languages<a aria-hidden="true" class="hash-link" href="#installing-more-languages" title="Direct link to heading">​</a></h3><p>If your required language is not already installed on the robot, you can go through the following steps to add it to the <code>qt_vosk_app</code>:</p><ol><li>find the proper model of your desired language from <a href="https://alphacephei.com/vosk/models" target="_blank" rel="noopener noreferrer">https://alphacephei.com/vosk/models</a> list. You need to download the proper language model for RPI which is not too big. check the description/note of the model. It should say something like this <em>Lightweight wideband model for Android/iOS and RPI</em>. </li><li>Download and unzip the model into <code>~/robot/vosk/models</code> QTRP  folder. </li><li>Rename the model folder to the short language code (ISO) such as <code>it_IT</code> for Italian. </li><li>relaunch <code>qt_vosk_app</code> or simply reboot the QTrobot.</li></ol><h2 class="anchor anchorWithStickyNavbar_31ik" id="online-speech-recognition">Online speech recognition<a aria-hidden="true" class="hash-link" href="#online-speech-recognition" title="Direct link to heading">​</a></h2><p>The <a href="https://github.com/luxai-qtrobot/tutorials/tree/master/examples/qt_gspeech_interface" target="_blank" rel="noopener noreferrer"><strong>qt_gspeech_interface</strong></a>
provides an <strong>online</strong> (required INTERNET connection) multilingual speech recognition ROS service based on Google Speech-To-Text API. The <code>qt_gspeech_interface</code> is not running by default and it <strong>cannot</strong> be run simultaneously with other voice apps such as <code>qt_vosk_app</code>. So to enable this service you need to first ensure that other voice apps and services are shut down. For example, to disable the <code>qt_vosk_app</code>, you can simply comment the corresponding line in <code>~/robot/autostart/autostart_screens.sh</code> on QTRP and reboot the robot. </p><p>Please follow the setup instructions to <a href="https://cloud.google.com/speech-to-text/docs/quickstart-client-libraries#before-you-begin" target="_blank" rel="noopener noreferrer"><strong>setup your google account</strong></a> before enabling the <code>qt_gspeech_interface</code>. Then enable it in autostart script (<code>~/robot/autostart/autostart_screens.sh</code>) on QTRP and reboot the robot.  Here are some guidelines: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">nano</span><span class="token plain"> ~/robot/autostart/autostart_screens.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>and add this line below other scripts:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">run_script </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;start_qt_gspeech_interface.sh&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="accessing-voice-recognition-from-terminal-1">Accessing voice recognition from terminal<a aria-hidden="true" class="hash-link" href="#accessing-voice-recognition-from-terminal-1" title="Direct link to heading">​</a></h3><p>Similar to the offline version of speech recognition, the interface can be accessed using ROS Service <code>/qt_robot/speech/recognize</code> command line tools as shown bellow: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">rosservice call /qt_robot/speech/recognize </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;language: &#x27;en_US&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">options:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">- &#x27;&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">timeout: 10&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can refer to the instruction given above for the offline version of the voice recognition to use the <code>qt_gspeech_interface</code> service in a Python code or using QTrobot visual studio blocks..</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="tips-for-better-speech-recognition"><strong>Tips</strong> for better speech recognition<a aria-hidden="true" class="hash-link" href="#tips-for-better-speech-recognition" title="Direct link to heading">​</a></h2><span class="material-icons MuiIcon-root" aria-hidden="true"> lightbulb </span> <span> The microphone is installed on top of the QTrobot&#x27;s head. Therefore, it is always better to talk to QTrobot from above (higher than robot) the robot so that your voice can clearly reaches the microphone. </span><br><br> <span class="material-icons MuiIcon-root" aria-hidden="true"> lightbulb </span> <span> For faster and more reactive speech recognition, provide proper options (if applicable) to the service call. For example, if you only need to recognize <code>yes</code> or <code>no</code> in a sentence, give these values as options so that the service immediately return one of these two values as soon being detected by engine. </span><br><br> <span class="material-icons MuiIcon-root" aria-hidden="true"> lightbulb </span> <span> There is slightly delay (less than a second) from the moment you call the service until the recognition engine begin analyzing the voice. So either you start speaking with a small pause or you can take this into account when developing interactive scenario by adjusting the dialog follow in your application.</span><br><br> <span class="material-icons MuiIcon-root" aria-hidden="true"> lightbulb </span> <span> In case of <code>qt_vosk_app</code>, there might be higher delay from the moment you switch the language at run-time until the engine loads the model and start analyzing the voice. This is related ONLY to the first call for switching the language. </span><h2 class="anchor anchorWithStickyNavbar_31ik" id="accessing-audio-voice-direction-and-other-data">Accessing audio, voice direction and other data<a aria-hidden="true" class="hash-link" href="#accessing-audio-voice-direction-and-other-data" title="Direct link to heading">​</a></h2><p> The <a href="https://github.com/luxai-qtrobot/software/tree/master/apps/qt_respeaker_app" target="_blank" rel="noopener noreferrer"><strong>qt_respeaker_app</strong></a> provide ROS services for streaming multichannel microphone audio data, voice activity, voice direction and etc. Here is a list of the topics which are published by <code>qt_respeaker_app</code>: </p><ul><li><p><code>/qt_respeaker_app/channel0</code>: processed audio for ASR (mix of 4 microphones data)</p></li><li><p><code>/qt_respeaker_app/channel1</code> : mic1 raw data</p></li><li><p><code>/qt_respeaker_app/channel2</code> : mic2 raw data</p></li><li><p><code>/qt_respeaker_app/channel3</code> : mic3 raw data</p></li><li><p><code>/qt_respeaker_app/channel4</code> : mic4 raw data</p></li><li><p><code>/qt_respeaker_app/channel5</code> : merged playback</p></li><li><p><code>/qt_respeaker_app/is_speaking</code>: VAD (Voice Activity Detection)</p></li><li><p><code>/qt_respeaker_app/sound_direction</code>: DOA (Direction of Arrival)</p></li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>When using VOD values, please not that <code>270</code> indicates to the front of QTrobot due to the microphone orientation in the robot&#x27;s head. </p></div></div><p> This <code>qt_respeaker_app</code> service is not running by default and like other microphone-related interfaces should be exclusively used with the Respeaker microphone array. Therefore, it <strong>cannot</strong> be run simultaneously with other voice apps such as <code>qt_vosk_app</code>.To enable this service you need to first ensure that other voice apps and services are shut down. For example, to disable the <code>qt_vosk_app</code>, you can simply comment the corresponding line in <code>~/robot/autostart/autostart_screens.sh</code> on QTRP and reboot the robot.</p><p>To use this service you need to enable <code>qt_respeaker_app</code> in autostart script (<code>~/robot/autostart/autostart_screens.sh</code>) on QTRP and reboot the robot.  Here are some guidelines: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">nano</span><span class="token plain"> ~/robot/autostart/autostart_screens.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>and add this line below other scripts:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">run_script </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;start_qt_respeaker_app.sh&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="configuring-qt_respeaker_app">Configuring qt_respeaker_app<a aria-hidden="true" class="hash-link" href="#configuring-qt_respeaker_app" title="Direct link to heading">​</a></h3><p>The <code>qt_respeaker_app</code> is already installed in the <code>~/catkin_ws</code> folder on QTRP. There is a config file <code>qt_respeaker_app.yaml</code> in the app folder which can be used to configure the Respeaker microphone especially with tuning parameters. Here are  some of the default tuning parameters: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">qt_respeaker_app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">suppress_pyaudio_error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">update_rate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">10.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">tuning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">AGCGAIN</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">50.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">AGCONOFF</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">CNIONOFF</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">GAMMA_NS_SR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1.8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">MIN_NS_SR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">0.01</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">STATNOISEONOFF_SR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain">  </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For most of the cases the default parameters should just work fine for you. However, you may need to adjust some of these values such as <code>AGCGAIN</code> to have loader (more gain) in streamed audio or <code>MIN_NS_SR</code> and <code>GAMMA_NS_SR</code> to better eliminate background noises such as QTrobot internal fan&#x27;s noise. </p><h3 class="anchor anchorWithStickyNavbar_31ik" id="recording-raw-audio-data">Recording raw audio data<a aria-hidden="true" class="hash-link" href="#recording-raw-audio-data" title="Direct link to heading">​</a></h3><p>The <code>qt_respeaker_app</code> streams each microphone channel&#x27;s data in seperate topics: <code>/qt_respeaker_app/channel0 - 5</code>. To record any or multiple of these channels, you can simply subscribes to the correspondig channels from QTPC (or any other computer in ROS network) and store the audio data in a WAV file or other audio formats. You can take a looke at <a href="https://github.com/luxai-qtrobot/software/blob/master/apps/qt_respeaker_app/examples/audio_record.py" target="_blank" rel="noopener noreferrer">audio_record.py</a> examples to see how to record <code>/qt_respeaker_app/channel0</code> in a <code>.wav</code> file. Here is also a simple code snippet: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> wave</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> audio_common_msgs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">msg </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> AudioData</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">channel_callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> wf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    wf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">writeframes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wf </span><span class="token operator">=</span><span class="token plain"> wave</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;audio.wav&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;wb&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">setnchannels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">setsampwidth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">setframerate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">16000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">rospy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Subscriber</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;/qt_respeaker_app/channel0&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> AudioData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> channel_callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> wf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The above code snippet records processed audio for ASR from channel 0 and save it in <code>audio.wav</code> file.  You can later process or listen to it.
By default some tuning parameters for noise reduction and automatic gain level are set in <code>config/qt_respeaker_app.yaml</code>. If, for example, you need to record audio with different gain level, you can simply change the <code>AGCGAIN: 100.0</code> and reluach the <code>qt_respeaker_app</code>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="microphone-tuning-tool">Microphone tuning tool<a aria-hidden="true" class="hash-link" href="#microphone-tuning-tool" title="Direct link to heading">​</a></h2><p>We have developed <a href="https://github.com/luxai-qtrobot/software/tree/master/tools/respeaker_mic_tunning" target="_blank" rel="noopener noreferrer"><strong>respeaker_mic_tuning</strong></a> graphical tools based on <a href="https://github.com/respeaker/usb_4_mic_array" target="_blank" rel="noopener noreferrer">ReSpeaker USB 4 Mic Array tuning software</a> to easier find and tune the Respeaker microphone  parameters. Using the gui, you can tune the parameters at runtime and find the one that value which best fits your scenario such as different audio gain level or different background noise elimination. </p><center><img src="/img/tunning_gui.png" alt="tunning_gui"></center><p>The tool is available in QTRP under <code>~/robot/code/software/tools/</code> folder. To run it:</p><ul><li>Open a terminal on QTPC (with display attached to the robot)</li><li>SSH to QTRP using <code>-X</code> paramter: <code>ssh -X qtrp</code></li><li>switch to the <code>~/robot/code/software/tools/respeaker_mic_tunning</code> folder </li><li>run the tuning tool: <code>python3 ./tunning_gui.py</code></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="what-can-i-tune">What can I tune?<a aria-hidden="true" class="hash-link" href="#what-can-i-tune" title="Direct link to heading">​</a></h3><p>You can find the best value and tune each Respeaker parameter depending on your need. You may need to learn and got some knowledge of audio signal processing to understand all these parameters. However, in most cases you simply need to adjust the following paramters of the Respeaker microphone:</p><ul><li><code>AGCONOFF</code>: to turn of or on automatic gain control. When it is &#x27;OFF&#x27;, the audio will be captured with a constant gain set by <code>AGCGAIN</code>.</li><li><code>AGCGAIN</code>: the sudio signal gain value. Higher value will results loader (higher volume) audio streamed signal.</li><li><code>GAMMA_NS_SR</code> and <code>MIN_NS_SR</code>: these two values together specify how much background noise should be eleminated. these values already set up in QTrobot to supress and eliminate the background noise from internal fan. You can adjust these values to have more clear audio signal.</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="what-can-i-do-with-the-tunned-values">What can I do with the tunned values?<a aria-hidden="true" class="hash-link" href="#what-can-i-do-with-the-tunned-values" title="Direct link to heading">​</a></h3><p>The <code>respeaker_mic_tuning</code> temporary adjusts the paramters of Respeaker microphone. However, values of these paramters will be reseted after rebooting the robot.
therefore, when you find the currect values which fits your application scenario, you can use those values to confgiure the corresponding QTrobot interfaces.
For example, by setting them in <code>qt_respeaker_app.yaml</code> for <code>qt_respeaker_app</code> or use them to configure within your own code. here is simple code snippet to set Respeaker&#x27;s paramters via a Python code:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><pre tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> usb</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">core</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> tuning </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Tuning</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mic </span><span class="token operator">=</span><span class="token plain"> usb</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">core</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">find</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">idVendor</span><span class="token operator">=</span><span class="token number">0x2886</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> idProduct</span><span class="token operator">=</span><span class="token number">0x0018</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dev </span><span class="token operator">=</span><span class="token plain"> Tuning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">mic</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;AGCONOFF&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;AGCGAIN&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">100.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can take a look at our <a href="https://github.com/luxai-qtrobot/software/blob/master/apps/qt_vosk_app/src/qt_vosk_app_node.py" target="_blank" rel="noopener noreferrer">qt_vosk_app_node.py</a> as a reference code.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/modules/speakers"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->QTrobot Sound and Speech</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/modules/camera"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">QTrobot Vision and 3D Camera<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#software-interfaces" class="table-of-contents__link toc-highlight">Software interfaces</a></li><li><a href="#offline-speech-recognition" class="table-of-contents__link toc-highlight">Offline speech recognition</a><ul><li><a href="#accessing-voice-recognition-from-terminal" class="table-of-contents__link toc-highlight">Accessing voice recognition from terminal</a></li><li><a href="#accessing-voice-recognition-from-code" class="table-of-contents__link toc-highlight">Accessing voice recognition from code</a></li><li><a href="#accessing-voice-recognition-using-qtrobot-visual-studio-blocks" class="table-of-contents__link toc-highlight">Accessing voice recognition using QTrobot visual studio blocks</a></li><li><a href="#installing-more-languages" class="table-of-contents__link toc-highlight">Installing more languages</a></li></ul></li><li><a href="#online-speech-recognition" class="table-of-contents__link toc-highlight">Online speech recognition</a><ul><li><a href="#accessing-voice-recognition-from-terminal-1" class="table-of-contents__link toc-highlight">Accessing voice recognition from terminal</a></li></ul></li><li><a href="#tips-for-better-speech-recognition" class="table-of-contents__link toc-highlight"><strong>Tips</strong> for better speech recognition</a></li><li><a href="#accessing-audio-voice-direction-and-other-data" class="table-of-contents__link toc-highlight">Accessing audio, voice direction and other data</a><ul><li><a href="#configuring-qt_respeaker_app" class="table-of-contents__link toc-highlight">Configuring qt_respeaker_app</a></li><li><a href="#recording-raw-audio-data" class="table-of-contents__link toc-highlight">Recording raw audio data</a></li></ul></li><li><a href="#microphone-tuning-tool" class="table-of-contents__link toc-highlight">Microphone tuning tool</a><ul><li><a href="#what-can-i-tune" class="table-of-contents__link toc-highlight">What can I tune?</a></li><li><a href="#what-can-i-do-with-the-tunned-values" class="table-of-contents__link toc-highlight">What can I do with the tunned values?</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Visual Scripting</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro_graphical">Quick start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/intro_studio">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/blocks_api">Blocks reference</a></li><li class="footer__item"><a href="https://qtrobot.luxai.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">QTrobot Studio</a></li></ul></div><div class="col footer__col"><div class="footer__title">Coding</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro_code">Quick start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/intro_ros">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/modules/display">Competences</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api_ros">API references</a></li></ul></div><div class="col footer__col"><div class="footer__title">GitHub</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/luxai-qtrobot/software" target="_blank" rel="noopener noreferrer" class="footer__link-item">Software</a></li><li class="footer__item"><a href="https://github.com/luxai-qtrobot/tutorials" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials</a></li><li class="footer__item"><a href="https://github.com/luxai-qtrobot/QA/issues?q=is%3Aopen+is%3Aissue+label%3Aquestion" target="_blank" rel="noopener noreferrer" class="footer__link-item">Q&amp;A</a></li></ul></div><div class="col footer__col"><div class="footer__title">LuxAI S.A.</div><ul class="footer__items"><li class="footer__item"><a href="https://luxai.com/humanoid-social-robot-for-research-and-teaching/" target="_blank" rel="noopener noreferrer" class="footer__link-item">QTrobot for research</a></li><li class="footer__item"><a href="https://luxai.com/assistive-tech-robot-for-special-needs-education/" target="_blank" rel="noopener noreferrer" class="footer__link-item">QTrobot for schools</a></li><li class="footer__item"><a href="https://luxai.com/shop/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Shop</a></li><li class="footer__item"><a class="footer__link-item" href="/support">Get support</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://luxai.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/img/luxai-favicon.ico" alt="LuxAI" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/luxai-favicon.ico" alt="LuxAI" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright © 2022 LuxAI S.A.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7e256a15.js"></script>
<script src="/assets/js/main.0d11e6ef.js"></script>
</body>
</html>