



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Here you can find all documents about QTrobot.">
      
      
        <link rel="canonical" href="https://luxai-qtrobot.github.io/QA/QTrobot-autostart/">
      
      
        <meta name="author" content="QTrobot">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>What are autostart scripts? - Introduction</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#what-are-autostart-scripts" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://luxai-qtrobot.github.io/" title="Introduction" class="md-header-nav__button md-logo">
          
            <img src="../../img/logo_luxai_mini.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Introduction
            </span>
            <span class="md-header-nav__topic">
              
                What are autostart scripts?
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/luxai-qtrobot/luxai-qtrobot.github.io" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    luxai-qtrobot/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://luxai-qtrobot.github.io/" title="Introduction" class="md-nav__button md-logo">
      
        <img src="../../img/logo_luxai_mini.png" width="48" height="48">
      
    </a>
    Introduction
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/luxai-qtrobot/luxai-qtrobot.github.io" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    luxai-qtrobot/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../about/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../manual/" title="Developer Manual" class="md-nav__link">
      Developer Manual
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../manual/" title="Trainer Manual" class="md-nav__link">
      Trainer Manual
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../demos/" title="API" class="md-nav__link">
      API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      FAQ
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        FAQ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../QTrobot-backup/" title="QTrobot Backup" class="md-nav__link">
      QTrobot Backup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Microphone-Topic/" title="QTrobot Microphone Topic" class="md-nav__link">
      QTrobot Microphone Topic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../QTrobot-Mouse&Keyboard/" title="QTrobot Mouse and Keyboard" class="md-nav__link">
      QTrobot Mouse and Keyboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../QTrobot-Csharp/" title="QTrobot C#" class="md-nav__link">
      QTrobot C#
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Wifi-configuration/" title="QTrobot Wifi Configuration" class="md-nav__link">
      QTrobot Wifi Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../QTrobot-joint-limits/" title="QTrobot Joint Limits" class="md-nav__link">
      QTrobot Joint Limits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../QTrobot-SDK/" title="QTrobot SDK" class="md-nav__link">
      QTrobot SDK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../QTrobot-port-forward/" title="QTrobot Port Forward" class="md-nav__link">
      QTrobot Port Forward
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#where-are-they-located" class="md-nav__link">
    Where are they located?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-they-are-executed-at-startup-time" class="md-nav__link">
    How they are executed at startup time?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-access-them" class="md-nav__link">
    How can I access them?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-are-the-main-autostart-scripts" class="md-nav__link">
    What are the main autostart scripts?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#here-are-the-main-startup-scripts-on-rpi" class="md-nav__link">
    Here are the main startup scripts on RPI:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#here-are-the-main-startup-scripts-on-nuc" class="md-nav__link">
    Here are the main startup scripts on NUC:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-are-the-log-files" class="md-nav__link">
    Where are the log files?
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="what-are-autostart-scripts">What are autostart scripts?<a class="headerlink" href="#what-are-autostart-scripts" title="Permanent link">&para;</a></h1>
<p>Autostart scripts are simply some bash scripts which are executed at robot startup time. These scripts prepare robot network, setup ROS environment, launch QTrobot motor and other controllers, setup log files and etc.  </p>
<h3 id="where-are-they-located">Where are they located?<a class="headerlink" href="#where-are-they-located" title="Permanent link">&para;</a></h3>
<p>there are two sets of autostart scripts on QTrobot:
1. Autostart scripts on <strong>RPI</strong>
2. Autostart scripts on <strong>NUC</strong>  </p>
<p>Both sets are located under <code class="codehilite"><span class="o">~/</span><span class="n">robot</span><span class="o">/</span><span class="n">autostart</span></code> folder.</p>
<h3 id="how-they-are-executed-at-startup-time">How they are executed at startup time?<a class="headerlink" href="#how-they-are-executed-at-startup-time" title="Permanent link">&para;</a></h3>
<p>The scripts are run by linux <a href="https://en.wikipedia.org/wiki/Cron">Cron</a> job scheduler. In fact, a specific corn job is configured to run <code class="codehilite"><span class="n">autostart_screens</span><span class="p">.</span><span class="n">sh</span></code> script at linux boot. The other scripts are launched by <code class="codehilite"><span class="n">autostart_screens</span><span class="p">.</span><span class="n">sh</span></code> and their output are redirected to the corresponding log files.<br />
<img alt="image" src="https://user-images.githubusercontent.com/4293456/70848218-68b2b700-1e6e-11ea-830d-1d7dff2f6d57.png" /></p>
<p>To add your own script (e.g. <code class="codehilite"><span class="n">start_my_script</span><span class="p">.</span><span class="n">sh</span></code>) you can simply add the following line to the <code class="codehilite"><span class="n">autostart_screens</span><span class="p">.</span><span class="n">sh</span></code>:</p>
<div class="codehilite"><pre><span></span>{
wait_for_network        
run_script &quot;start_qtroutes.sh&quot;
...
...
run_script &quot;start_my_script.sh&quot;
} <span class="err">&amp;</span>&gt;&gt; <span class="cp">${</span><span class="n">LOG_FILE</span><span class="cp">}</span>
</pre></div>

<h3 id="how-can-i-access-them">How can I access them?<a class="headerlink" href="#how-can-i-access-them" title="Permanent link">&para;</a></h3>
<p>You can access them via terminal of NUC/RPI or via QTrobot web interface for enable/disable them:</p>
<ol>
<li>Web interface on RPI: <code class="codehilite"><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">100</span><span class="p">.</span><span class="mi">1</span><span class="p">:</span><span class="mi">8080</span></code></li>
<li>Web interface on NUC: <code class="codehilite"><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">100</span><span class="p">.</span><span class="mi">2</span><span class="p">:</span><span class="mi">8080</span></code></li>
</ol>
<h3 id="what-are-the-main-autostart-scripts">What are the main autostart scripts?<a class="headerlink" href="#what-are-the-main-autostart-scripts" title="Permanent link">&para;</a></h3>
<p>As I explained above, there are some <em>important</em> scripts which prepare the robot network, ROS environment and launch the motor controller and other robot interfaces. All of these scripts are running on RPI and are <strong>necessary</strong> for functionality of QTrobot.  </p>
<h4 id="here-are-the-main-startup-scripts-on-rpi">Here are the main startup scripts on <em>RPI</em>:<a class="headerlink" href="#here-are-the-main-startup-scripts-on-rpi" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code class="codehilite"><span class="n">start_qt_routes</span><span class="p">.</span><span class="n">sh</span></code></strong>: prepares network routing between RPI and NUC for internet sharing and etc.</li>
<li><strong><code class="codehilite"><span class="n">start_roscore</span><span class="p">.</span><span class="n">sh</span></code></strong>:  launches <code class="codehilite"><span class="n">roscore</span></code></li>
<li><strong><code class="codehilite"><span class="n">start_qtpc</span><span class="p">.</span><span class="n">sh</span></code></strong>: power on NUC via wake-on-lan.</li>
<li><strong><code class="codehilite"><span class="n">start_qt_motor</span><span class="p">.</span><span class="n">sh</span></code></strong>: launch <code class="codehilite"><span class="n">qt_motor</span></code> node including motor and gesture controllers.</li>
<li><strong><code class="codehilite"><span class="n">start_qt_robot_interface</span><span class="p">.</span><span class="n">sh</span></code></strong>: launch <code class="codehilite"><span class="n">qt_robot_interface</span></code> node which implements QTrobot emotion (face), audio, speech, behavior and other interfaces.
-<strong><code class="codehilite"><span class="n">start_qt_webconfing</span><span class="p">.</span><span class="n">sh</span></code></strong>: launch QTrobot web config interface on RPI</li>
</ul>
<h4 id="here-are-the-main-startup-scripts-on-nuc">Here are the main startup scripts on <em>NUC</em>:<a class="headerlink" href="#here-are-the-main-startup-scripts-on-nuc" title="Permanent link">&para;</a></h4>
<p>The NUC pc is most convenient place to develop code and run your own autostart scripts and apps.
Most of the default scripts are simply running the QTrobot open source demos and examples and can be safely disabled and/or modified. There is nothing especial running by autostart scripts on NUC except:
- <strong><code class="codehilite"><span class="n">start_qt_nuitrack_app</span><span class="p">.</span><span class="n">sh</span></code></strong>: which run Nuitrack skeleton tracking and camera interfaces.<br />
- <strong><code class="codehilite"><span class="n">start_qt_webconfing</span><span class="p">.</span><span class="n">sh</span></code></strong>: launch QTrobot web config interface on NUC</p>
<h3 id="where-are-the-log-files">Where are the log files?<a class="headerlink" href="#where-are-the-log-files" title="Permanent link">&para;</a></h3>
<p>All programs/ROS nodes which are run by QTrobot autostart scripts redirect their standard output (info/war/error messages) to their corresponding log file. These log files can be found under <code class="codehilite"><span class="o">~/</span><span class="n">robot</span><span class="o">/</span><span class="n">autostart</span><span class="o">/</span><span class="n">logs</span></code> folder.  </p>
                
                  
                
                
                  
                  <hr>
                  <div class="md-source-date">
                    <small>
                      
                        Last update: February 5, 2020
                      
                    </small>
                  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 LuxAI S.A.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/luxai-qtrobot" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/qtrobot" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/luxai/" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://www.facebook.com/luxAI/" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.youtube.com/channel/UCAY0H0HaqQL1GE7lO_iSpbg" class="md-footer-social__link fa fa-youtube"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../javascripts/extra.js"></script>
      
    
  </body>
</html>